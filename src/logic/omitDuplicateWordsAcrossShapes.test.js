import {omitDuplicateWordsAcrossShapes} from "./omitDuplicateWordsAcrossShapes";

test("Will delete shapes with repeated words and plurals (case 1)", () => {
  const shapeLookup = {
    "1-5-9": [
      [0, 4, 8],
      [5, 9, 13],
    ], // CAT ZIP - expect to be deleted because dup CAT later, and this is the longer list
    "5-6-9-10": [[8, 12, 9, 13]], // TRIP
    "6-9-10": [
      [12, 9, 13],
      [5, 9, 8],
    ], // RIP ZIT
    "4-5-6": [[0, 1, 2]], // CAT
    "4-5-6-7": [[0, 1, 2, 3]], // CATS - expect to be deleted because plural of CAT
    "5-6-10": [
      [8, 9, 13],
      [13, 9, 8],
    ], // TIP PIT
    "1-5-6-10": [[13, 9, 8, 4]], // PITA
    "1-6-9": [[4, 9, 12]], // AIR
  };

  const letters = [
    "C",
    "A",
    "T",
    "S",
    "A",
    "Z",
    "Qu",
    "R",
    "T",
    "I",
    "Qu",
    "Qu",
    "R",
    "P",
    "Qu",
    "Qu",
  ];

  const expected = {
    "5-6-9-10": [[8, 12, 9, 13]], // TRIP
    "6-9-10": [
      [12, 9, 13],
      [5, 9, 8],
    ], // RIP ZIT
    "4-5-6": [[0, 1, 2]], // CAT
    "5-6-10": [
      [8, 9, 13],
      [13, 9, 8],
    ], // TIP PIT
    "1-5-6-10": [[13, 9, 8, 4]], // PITA
    "1-6-9": [[4, 9, 12]], // AIR
  };

  const actual = omitDuplicateWordsAcrossShapes({shapeLookup, letters});

  expect(actual).toEqual(expected);
});

test("Will delete shapes with repeated words and plurals (case 2)", () => {
  const shapeLookup = {
    "1-2-6-9": [
      [8, 5, 1, 0],
      [8, 5, 0, 1],
      [9, 6, 1, 2],
      [10, 7, 2, 3],
    ], // ["TALL","TALL","ISLE","OPEN"]
    "4-5-10": [[14, 9, 8]], // ["FIT"],
    "1-5-10-14": [[14, 10, 5, 1]], // ["FOAL"],
    "2-6-8-9": [[12, 13, 10, 6]], // ["MOOS"], -- expect to be deleted because we have "MOO" later
    "5-8-10": [
      [10, 5, 8],
      [7, 2, 5],
      [13, 10, 15],
    ], // ["OAT","PEA","OOH"],
    "4-5-6-10": [[6, 2, 1, 0]], // ["SELL"],
    "4-9-10": [[4, 9, 10]], // ["BIO"],
    "2-5-8-9": [[7, 10, 13, 14]], // ["POOF"],
    "5-6-9-10": [
      [6, 2, 5, 1],
      [4, 5, 1, 0],
      [4, 5, 0, 1],
      [4, 5, 9, 8],
      [13, 12, 9, 8],
      [7, 10, 11, 6],
      [7, 2, 3, 6],
      [6, 5, 1, 2],
    ], // ["SEAL","BALL","BALL","BAIT","OMIT","PODS","PENS","SALE"], -- expect to be deleted because we have "SEAL" in an shorter length list later
    "4-6-9-10": [
      [14, 10, 13, 8],
      [6, 2, 5, 0],
    ], // ["FOOT","SEAL"],
    "1-2-5-8": [
      [8, 5, 1, 2],
      [13, 10, 7, 6],
    ], // ["TALE","OOPS"],
    "2-5-8": [
      [2, 5, 8],
      [7, 10, 13],
    ], // ["EAT","POO"],
    "2-5-6-10": [[9, 13, 8, 5]], // ["IOTA"],
    "2-5-10": [[15, 10, 7]], // ["HOP"],
    "2-3-5-8": [[3, 2, 5, 8]], // ["NEAT"],
    "5-6-10": [
      [7, 2, 3],
      [5, 0, 1],
      [5, 1, 0],
    ], // ["PEN","ALL","ALL"],
    "5-6-8-9": [
      [5, 4, 1, 2],
      [4, 5, 1, 2],
      [14, 13, 10, 11],
    ], // ["ABLE","BALE","FOOD"],
    "5-9-10": [
      [6, 10, 11],
      [4, 9, 8],
      [0, 5, 4],
    ], // ["SOD","BIT","LAB"],
    "1-6-9-14": [[15, 10, 7, 2]], // ["HOPE"],
    "6-7-8-9": [
      [11, 10, 13, 12],
      [12, 13, 10, 11],
    ], // ["DOOM","MOOD"],
    "5-6-9": [
      [8, 5, 4],
      [4, 5, 8],
      [5, 1, 2],
    ], // ["TAB","BAT","ALE"],
    "4-5-6-9": [
      [1, 2, 3, 6],
      [4, 9, 5, 6],
    ], // ["LENS","BIAS"],
    "1-5-9-10": [[11, 10, 6, 2]], // ["DOSE"],
    "6-8-9": [
      [8, 9, 6],
      [6, 9, 8],
      [12, 13, 10],
    ], // ["TIS","SIT","MOO"],
    "0-5-10-14": [[14, 10, 5, 0]], // ["FOAL"], -- expect to be deleted because we already have "FOAL" in an equal length list
    "5-8-9-10": [
      [6, 1, 5, 4],
      [15, 10, 13, 14],
      [7, 2, 5, 6],
    ], // ["SLAB","HOOF","PEAS"], -- expect to be deleted because already have "PEA"
    "6-9-10": [
      [7, 10, 11],
      [6, 2, 5],
      [1, 5, 4],
    ], // ["POD","SEA","LAB"], -- expect to be deleted because we already have "LAB" in an equal length list
    "1-2-5-10": [[15, 10, 7, 6]], // ["HOPS"], -- expect to be deleted because we already have "HOP"
    "5-6-8": [[6, 5, 8]], // ["SAT"],
    "4-6-9-11": [
      [7, 2, 5, 0],
      [15, 10, 13, 8],
    ], // ["PEAL","HOOT"], -- expect to be deleted because we already have "PEAL" in a shorter length list
    "2-6-9": [[5, 9, 12]], // ["AIM"],
    "4-5-8-10": [[7, 2, 5, 1]], // ["PEAL"],
    "0-5-10": [[14, 9, 4]], // ["FIB"],
    "6-8-9-10": [[4, 5, 6, 2]], // ["BASE"],
    "2-5-9-10": [[5, 8, 13, 12]], // ["ATOM"],
    "4-5-6": [[5, 6, 7]], // ["ASP"],
    "1-5-9-14": [[15, 10, 6, 2]], // ["HOSE"],
    "1-5-6-10": [[5, 1, 6, 10]], // ["ALSO"],
    "2-4-6-9": [[6, 10, 13, 8]], // ["SOOT"],
    "1-5-6-9": [[7, 10, 6, 2]], // ["POSE"],
    "4-6-9": [[8, 13, 10]], // ["TOO"],
    "1-6-10": [[4, 9, 13]], // ["BIO"], -- expect to be deleted because we already have "BIO" in an equal length list
    "2-5-6-8": [[6, 2, 5, 8]], // ["SEAT"],
    "1-6-9-10": [[11, 10, 7, 2]], // ["DOPE"]]
  };

  const letters = [
    "L",
    "L",
    "E",
    "N",
    "B",
    "A",
    "S",
    "P",
    "T",
    "I",
    "O",
    "D",
    "M",
    "O",
    "F",
    "H",
  ];

  const expected = {
    "1-2-6-9": [
      [8, 5, 1, 0],
      [8, 5, 0, 1],
      [9, 6, 1, 2],
      [10, 7, 2, 3],
    ], // ["TALL","TALL","ISLE","OPEN"]
    "4-5-10": [[14, 9, 8]], // ["FIT"],
    "1-5-10-14": [[14, 10, 5, 1]], // ["FOAL"],
    "5-8-10": [
      [10, 5, 8],
      [7, 2, 5],
      [13, 10, 15],
    ], // ["OAT","PEA","OOH"],
    "4-5-6-10": [[6, 2, 1, 0]], // ["SELL"],
    "4-9-10": [[4, 9, 10]], // ["BIO"],
    "2-5-8-9": [[7, 10, 13, 14]], // ["POOF"],
    "4-6-9-10": [
      [14, 10, 13, 8],
      [6, 2, 5, 0],
    ], // ["FOOT","SEAL"],
    "1-2-5-8": [
      [8, 5, 1, 2],
      [13, 10, 7, 6],
    ], // ["TALE","OOPS"],
    "2-5-8": [
      [2, 5, 8],
      [7, 10, 13],
    ], // ["EAT","POO"],
    "2-5-6-10": [[9, 13, 8, 5]], // ["IOTA"],
    "2-5-10": [[15, 10, 7]], // ["HOP"],
    "2-3-5-8": [[3, 2, 5, 8]], // ["NEAT"],
    "5-6-10": [
      [7, 2, 3],
      [5, 0, 1],
      [5, 1, 0],
    ], // ["PEN","ALL","ALL"],
    "5-6-8-9": [
      [5, 4, 1, 2],
      [4, 5, 1, 2],
      [14, 13, 10, 11],
    ], // ["ABLE","BALE","FOOD"],
    "5-9-10": [
      [6, 10, 11],
      [4, 9, 8],
      [0, 5, 4],
    ], // ["SOD","BIT","LAB"],
    "1-6-9-14": [[15, 10, 7, 2]], // ["HOPE"],
    "6-7-8-9": [
      [11, 10, 13, 12],
      [12, 13, 10, 11],
    ], // ["DOOM","MOOD"],
    "5-6-9": [
      [8, 5, 4],
      [4, 5, 8],
      [5, 1, 2],
    ], // ["TAB","BAT","ALE"],
    "4-5-6-9": [
      [1, 2, 3, 6],
      [4, 9, 5, 6],
    ], // ["LENS","BIAS"],
    "1-5-9-10": [[11, 10, 6, 2]], // ["DOSE"],
    "6-8-9": [
      [8, 9, 6],
      [6, 9, 8],
      [12, 13, 10],
    ], // ["TIS","SIT","MOO"],
    "5-6-8": [[6, 5, 8]], // ["SAT"],
    "2-6-9": [[5, 9, 12]], // ["AIM"],
    "4-5-8-10": [[7, 2, 5, 1]], // ["PEAL"],
    "0-5-10": [[14, 9, 4]], // ["FIB"],
    "6-8-9-10": [[4, 5, 6, 2]], // ["BASE"],
    "2-5-9-10": [[5, 8, 13, 12]], // ["ATOM"],
    "4-5-6": [[5, 6, 7]], // ["ASP"],
    "1-5-9-14": [[15, 10, 6, 2]], // ["HOSE"],
    "1-5-6-10": [[5, 1, 6, 10]], // ["ALSO"],
    "2-4-6-9": [[6, 10, 13, 8]], // ["SOOT"],
    "1-5-6-9": [[7, 10, 6, 2]], // ["POSE"],
    "4-6-9": [[8, 13, 10]], // ["TOO"],
    "2-5-6-8": [[6, 2, 5, 8]], // ["SEAT"],
    "1-6-9-10": [[11, 10, 7, 2]], // ["DOPE"]]
  };

  const actual = omitDuplicateWordsAcrossShapes({shapeLookup, letters});

  expect(actual).toEqual(expected);
});
